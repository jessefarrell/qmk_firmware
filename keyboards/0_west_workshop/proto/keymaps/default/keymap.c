// Copyright 2023 QMK
// SPDX-License-Identifier: GPL-2.0-or-later

#include QMK_KEYBOARD_H

#ifdef ENCODER_MAP_ENABLE
const uint16_t PROGMEM encoder_map[][NUM_ENCODERS][NUM_DIRECTIONS] = {
  [0] = { ENCODER_CCW_CW(KC_VOLD, KC_VOLU) }
};
#endif

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    /*
     * ┌───┬───┬───┬───┐
     * │ 7 │ 8 │ 9 │ / │
     * ├───┼───┼───┼───┤
     * │ 4 │ 5 │ 6 │ * │
     * ├───┼───┼───┼───┤
     * │ 1 │ 2 │ 3 │ - │
     * ├───┼───┼───┼───┤
     * │ 0 │ . │Ent│ + │
     * └───┴───┴───┴───┘
     */
    [0] = LAYOUT(
        UG_NEXT,
        KC_1,   KC_2,   KC_3,
        KC_4,   KC_5,   KC_6,
        KC_7,   KC_8,   KC_9
    )
};

// #ifdef OLED_ENABLE
static void render_logo(void) {
  static const char PROGMEM qmk_logo[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x40, 0xc0, 0x80, 0x00, 
	0x00, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0x40, 0xc0, 0x00, 0x00, 0x00, 
	0x00, 0x40, 0x40, 0x80, 0x00, 0x00, 0x00, 0x40, 0x40, 0x40, 0x80, 0x00, 0x00, 0xc0, 0x00, 0x00, 
	0x00, 0x40, 0x40, 0x40, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0x60, 0x60, 0x70, 
	0x70, 0x60, 0xe0, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x04, 0x84, 0x83, 0x80, 
	0x00, 0x17, 0x80, 0x80, 0x80, 0x84, 0x84, 0x87, 0x00, 0x00, 0x00, 0x84, 0x8f, 0x84, 0x80, 0x80, 
	0x80, 0x84, 0x04, 0x07, 0x00, 0x80, 0x80, 0x86, 0x04, 0x84, 0x83, 0x80, 0x80, 0xbf, 0x80, 0x00, 
	0x00, 0x22, 0xa2, 0xa2, 0xbf, 0x00, 0x00, 0x00, 0x7a, 0xda, 0xca, 0xcf, 0xc1, 0xe0, 0xe0, 0x7e, 
	0x3f, 0x17, 0x85, 0x81, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x80, 
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x60, 0x60, 0x30, 0x7f, 0x7f, 0x7f, 
	0x00, 0x19, 0x39, 0x78, 0x48, 0x49, 0x69, 0x7f, 0x3f, 0x1e, 0x00, 0xff, 0xff, 0xff, 0x41, 0x41, 
	0x61, 0x7f, 0x3f, 0x1e, 0x00, 0x7f, 0x7f, 0x7f, 0x00, 0x39, 0x79, 0x68, 0x48, 0x49, 0x7f, 0x7f, 
	0x3e, 0x00, 0x3f, 0x7f, 0x7f, 0x40, 0x40, 0x60, 0x7e, 0x7e, 0x7c, 0x00, 0x3e, 0x7e, 0x7e, 0x60, 
	0x60, 0x30, 0xff, 0xff, 0x00, 0x61, 0x61, 0x41, 0x61, 0x61, 0x7f, 0x3f, 0x1e, 0x00, 0x1f, 0x3f, 
	0x3f, 0x79, 0x71, 0x71, 0xf1, 0xe3, 0xc3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x06, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x07, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x06, 
	0x06, 0x06, 0x06, 0x06, 0x07, 0x07, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
  };

  oled_write_raw_P(qmk_logo, sizeof(qmk_logo));
}

// const rgblight_segment_t PROGMEM se_logo_layer[] = RGBLIGHT_LAYER_SEGMENTS(
//     {10, 4, HSV_GREEN}       // Light 4 LEDs, starting with LED 11
// );

// // Now define the array of layers. Later layers take precedence
// const rgblight_segment_t* const PROGMEM my_rgb_layers[] = RGBLIGHT_LAYERS_LIST(se_logo_layer);

void keyboard_post_init_user(void) {
  // Lighting is still the wrong color
  eeconfig_update_rgblight_default();

  // Enable the LED layers
  rgblight_set_effect_range(0, 9); 
  rgblight_setrgb_range(0, 60, 5, 9, 13);


  // rgblight_layers = my_rgb_layers;
}

bool oled_task_user(void) {
  render_logo();
  return false;
}
// #endif